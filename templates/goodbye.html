{% extends 'base.html' %} {% block content %}
<div class="container">
  <div class="row justify-content-center">
    <div class="col-lg-6">
      <div class="card mt-5 bg-dark text-light">
        <div class="card-body">
          <h1 class="text-center mb-4">Goodbye</h1>
          <div id="statusMessage" class="text-center"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    var deleteSuccess = localStorage.getItem("deleteSuccess");
    var deleteError = localStorage.getItem("deleteError");
    var statusMessage = document.getElementById("statusMessage");

    if (deleteSuccess === "true") {
      statusMessage.innerHTML = `
                    <div class="alert alert-success" role="alert">
                        Your data has been successfully deleted. Thank you for playing facegame. We hope to see you again.
                    </div>
                `;
    } else if (deleteSuccess === "false") {
      statusMessage.innerHTML = `
                    <div class="alert alert-danger" role="alert">
                        An error occurred during the data deletion process: ${
                          JSON.parse(deleteError).error
                        }. Please contact us directly.
                    </div>
                `;
    }

    // Clear the stored values from localStorage
    localStorage.removeItem("deleteSuccess");
    localStorage.removeItem("deleteError");
  });
</script>
{% endblock %}
